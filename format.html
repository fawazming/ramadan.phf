<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- <link rel="stylesheet" type="text/css" href="../awsm.css"> -->
	<title>Cards</title>
</head>
<script src="../mmm.js"></script>
<style type="text/css">
	.hidden{display: none;}
</style>
<body>
	<div id="login">
		<h1>Login</h1> <br>
		<form id="loginForm">
			<input type="text" name="uname" placeholder="Username">
			<input type="password" name="pass" placeholder="Password">
			<center><input type="submit" value="Login"></center>
		</form>
	</div>
	<div id="dashboard" class="hidden">
		<h1>Dashboard</h1>
		<p>Welcome back, &nbsp; &nbsp; &nbsp; &nbsp; <button id="logout">Logout</button></p>Don’t be perfect, just keep getting better
		<form id="details">
            <input type="text" id="quoteIn" placeholder="Quote">
        	<input type="submit" value="Create Image" id="createImg">
        </form>
        <div class="dp"
            style="padding: 0; border-radius: 2rem;  background-color:rgb(6, 39, 110); color: #000; width: 1200px; height: 1200px; font-family: sans-serif;  padding-top: 15px;"
            id="dp">
            <img src="./aei.jpg"
                style="width: 500px; margin-left: 300px; margin-top: 20px; padding: 0; position: absolute;">

            <div class="content"
                style="background-color: #fff; display: block; justify-content: space-around; position: absolute; margin-top: 200px; width:1000px; height:800px; margin-left: 90px; border-radius: 1.5rem; bottom:1; left:1; z-index: 1; text-align: center;">

                <!-- <img src=".png" width="200px" style="left: 0px; top: 0px; position: absolute;"> -->

                <h1 style="font-size: 4rem; margin-top: 70px;margin-bottom: 3px;">Academic Excellence Initiative</h1><small style="font-size: 3rem; margin-top: 70px;margin-bottom: 3px;">Remo Zone</small>
                
                <p style="font-size: 2.8rem; text-align: left; margin-left: 20px; margin-top: 30px;">Dear <i id="quoteOut">Alhaji Taiwo</i>,  </p>

                <p style="font-size: 2.6rem; margin-left: 35px; margin-right: 35px; line-height: 3.8rem;">
                    AEI Remo Zone require your financial assistance towards successful hosting of her 2020 School Leavers' Seminar and Youth Orientation Programme (YOP), scheduled to hold on the 14th, 21st, and 22nd of November, 2020. 
                </p>

                <p style="font-size: 2rem; margin-left: 35px; margin-right: 35px; text-align: right;">
                    <b style="color: coral;" >Guaranty Trust Bank</b>  <br>
                    Adeyemi Monsuru Olalekan <br>
                    <b style="font-family: monospace; font-size: 3rem; letter-spacing: 0.2rem;">0218449467</b> 
                </p>
            </div>

            <div class="bottom-logo"
                style="position: absolute; margin-top: 1109px; margin-left: 300px; z-index: 1;">
                <h1 style="color: #fff; font-family: 'Courier New', Courier, monospace;">
                    <i>Excellence Our Duty, Our Right..</i>
                </h1>
            </div>
        </div>
	    <button id="preview">Preview DP</button>
	    <br>
	    <a id="download" href="#">Download DP</a>
	</div>
	

<script type="text/javascript">
// Login
	function LoggedIn() {
		document.querySelector('#login').classList.add('hidden')
		document.querySelector('#dashboard').classList.remove('hidden')
	}

	let isLoggedIn = localStorage.getItem('isLoggedIn');
	if(isLoggedIn === 'true'){
		LoggedIn()
	}

	let uname = document.querySelector('[name="uname"]')
	let pass = document.querySelector('[name="pass"]')

	document.querySelector('#loginForm').addEventListener('submit', (e)=>{
		e.preventDefault();

		if(uname.value == 'demo' && pass.value == 'demo'){
		LoggedIn();
		localStorage.setItem('isLoggedIn', 'true')

		}else{
		console.log('Invalid Login details');
		}
	})

	document.querySelector('#logout').addEventListener('click', ()=>{
		localStorage.removeItem('isLoggedIn')
		location.reload()
	})
// login

// Cards
	function field(id) {
		$(`#${id}Out`).html($(`#${id}In`).val())
	}

        $('#details').submit(function (e) { 
            e.preventDefault();
            field('quote');
        });
        let getCanvas;
        $('#preview').on('click', function() {
            h2i();
        });

        function h2i() {
            html2canvas($('#dp'), {
                onrendered: function(canvas) {
                    $('#preview').append(canvas);
                    getCanvas = canvas;
                }
            });
        }

        $('#download').on('click', function() { 

              var imgageData = getCanvas.toDataURL("image/png"); 
                $('#download').attr(
                "download", `aei.png`).attr( 
                    "href", imgageData);
                    
        });
// Cards
</script>
</body>
</html>